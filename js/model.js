let Database = {
  mainArray: [

    {
      "name": "Elena",
      "secondName": "Petrova",
      "age": "35",
      "emp": "Marketing Manager",
      "id": 5,
      "desc": "Leading a team of 10 marketers."
    },
    {
      "name": "Javier",
      "secondName": "Garcia",
      "age": "28",
      "emp": "Data Analyst",
      "id": 6,
      "desc": "Specializing in predictive modeling."
    },
    {
      "name": "Sakura",
      "secondName": "Tanaka",
      "age": "45",
      "emp": "High School Teacher",
      "id": 7,
      "desc": "Teaching history and social studies."
    },
    {
      "name": "David",
      "secondName": "Smith",
      "age": "52",
      "emp": "Architect",
      "id": 8,
      "desc": "Designing sustainable buildings."
    },
    {
      "name": "Aisha",
      "secondName": "Khan",
      "age": "29",
      "emp": "Registered Nurse",
      "id": 9,
      "desc": "Working in the emergency department."
    },
    {
      "name": "Giovanni",
      "secondName": "Rossi",
      "age": "31",
      "emp": "Chef",
      "id": 10,
      "desc": "Specializing in Italian cuisine."
    },
    {
      "name": "Chloé",
      "secondName": "Dubois",
      "age": "24",
      "emp": "Graphic Designer",
      "id": 11,
      "desc": "Freelance designer working with various clients."
    },
    {
      "name": "Liam",
      "secondName": "O'Connell",
      "age": "60",
      "emp": "Retired Engineer",
      "id": 12,
      "desc": "Enjoying retirement and traveling."
    },
    {
      "name": "Anika",
      "secondName": "Sharma",
      "age": "38",
      "emp": "Project Manager",
      "id": 13,
      "desc": "Managing software development projects."
    },
    {
      "name": "Mateo",
      "secondName": "Rodriguez",
      "age": "26",
      "emp": "Journalist",
      "id": 14,
      "desc": "Reporting on local news and events."
    },
    {
      "name": "Yuna",
      "secondName": "Kim",
      "age": "42",
      "emp": "Accountant",
      "id": 15,
      "desc": "Working for a large corporation."
    },
    {
      "name": "Omar",
      "secondName": "Ali",
      "age": "33",
      "emp": "Police Officer",
      "id": 16,
      "desc": "Serving and protecting the community."
    },
    {
      "name": "Isabelle",
      "secondName": "Moreau",
      "age": "27",
      "emp": "Veterinarian",
      "id": 17,
      "desc": "Caring for animals in a private clinic."
    },
    {
      "name": "Finn",
      "secondName": "Murphy",
      "age": "48",
      "emp": "Electrician",
      "id": 18,
      "desc": "Running his own electrical contracting business."
    },
    {
      "name": "Priya",
      "secondName": "Patel",
      "age": "30",
      "emp": "Social Worker",
      "id": 19,
      "desc": "Working with families and children in need."
    },
    {
      "name": "Carlos",
      "secondName": "Hernandez",
      "age": "23",
      "emp": "Student",
      "id": 20,
      "desc": "Studying computer science at university."
    },
    {
      "name": "Hana",
      "secondName": "Yamamoto",
      "age": "55",
      "emp": "Librarian",
      "id": 21,
      "desc": "Managing a public library."
    },
    {
      "name": "Amir",
      "secondName": "Hussein",
      "age": "39",
      "emp": "Civil Engineer",
      "id": 22,
      "desc": "Working on infrastructure projects."
    },
    {
      "name": "Sophie",
      "secondName": "Lefevre",
      "age": "25",
      "emp": "Photographer",
      "id": 23,
      "desc": "Freelance photographer specializing in portraits."
    },
    {
      "name": "Niall",
      "secondName": "Byrne",
      "age": "62",
      "emp": "Retired Teacher",
      "id": 24,
      "desc": "Volunteering at a local community center."
    },
    {
      "name": "Divya",
      "secondName": "Rao",
      "age": "36",
      "emp": "Lawyer",
      "id": 25,
      "desc": "Specializing in family law."
    },
    {
      "name": "Diego",
      "secondName": "Martinez",
      "age": "29",
      "emp": "Musician",
      "id": 26,
      "desc": "Playing guitar in a local band."
    },
    {
      "name": "Mio",
      "secondName": "Sato",
      "age": "43",
      "emp": "Pharmacist",
      "id": 27,
      "desc": "Working in a retail pharmacy."
    },
    {
      "name": "Youssef",
      "secondName": "Nasser",
      "age": "32",
      "emp": "Firefighter",
      "id": 28,
      "desc": "Responding to emergencies and saving lives."
    },
    {
      "name": "Camille",
      "secondName": "Girard",
      "age": "26",
      "emp": "Translator",
      "id": 29,
      "desc": "Translating documents from French to English."
    },
    {
      "name": "Sean",
      "secondName": "Kelly",
      "age": "49",
      "emp": "Carpenter",
      "id": 30,
      "desc": "Building custom furniture and cabinetry."
    },
    {
      "name": "Ananya",
      "secondName": "Singh",
      "age": "31",
      "emp": "Doctor",
      "id": 31,
      "desc": "Working as a general practitioner."
    },
    {
      "name": "Alejandro",
      "secondName": "Perez",
      "age": "24",
      "emp": "Bartender",
      "id": 32,
      "desc": "Working at a popular downtown bar."
    },
    {
      "name": "Rina",
      "secondName": "Suzuki",
      "age": "56",
      "emp": "Florist",
      "id": 33,
      "desc": "Owning and operating a flower shop."
    },
    {
      "name": "Karim",
      "secondName": "Farah",
      "age": "40",
      "emp": "Real Estate Agent",
      "id": 34,
      "desc": "Helping people buy and sell homes."
    },
    {
      "name": "Adelaide",
      "secondName": "Mercier",
      "age": "34",
      "emp": "Research Scientist",
      "id": 35,
      "desc": "Working on developing new pharmaceuticals."
    },
    {
      "name": "Cian",
      "secondName": "Walsh",
      "age": "27",
      "emp": "Software Engineer",
      "id": 36,
      "desc": "Working remotely and coding."
    },
    {
      "name": "Rhea",
      "secondName": "Kumar",
      "age": "33",
      "emp": "Dentist",
      "id": 37,
      "desc": "Running her own dental practice."
    },
    {
      "name": "Luis",
      "secondName": "Torres",
      "age": "50",
      "emp": "Pilot",
      "id": 38,
      "desc": "Flying commercial airplanes for a major airline."
    },
    {
      "name": "Kiyomi",
      "secondName": "Watanabe",
      "age": "21",
      "emp": "Waitress",
      "id": 39,
      "desc": "Working part-time while attending college."
    },
    {
      "name": "Zayd",
      "secondName": "Said",
      "age": "44",
      "emp": "Entrepreneur",
      "id": 40,
      "desc": "Starting and running multiple businesses."
    }
  ],

  removeObjectById(arr, IdFound) {
    const index = arr.findIndex(x => x.id === IdFound);
    if (index > -1) {
      arr.splice(index, 1);
    }
  },
  findObjectById(arr, idToFind) {
    const foundObject = arr.find(item => item.id === idToFind);
    if (foundObject === undefined) {
      console.log("Not found")
    }
    return foundObject;
  },

  update: {

    name(arr, productName, newCount) {
      const item = arr.find(item => item.id === productName);
      if (item) {
        item.name = newCount;
      }
    },

    secondName(arr, productName, newCount) {
      const item = arr.find(item => item.id === productName);
      if (item) {
        item.secondName = newCount;
      }
    },

    age(arr, productName, newCount) {
      const item = arr.find(item => item.id === productName);
      if (item) {
        item.age = newCount;
      }
    },
    emp(arr, productName, newCount) {
      const item = arr.find(item => item.id === productName);
      if (item) {
        item.emp = newCount;
      }
    },
    desc(arr, productName, newCount) {
      const item = arr.find(item => item.id === productName);
      if (item) {
        item.desc = newCount;
      }
    },
  },

  setId(arr) {
    if (arr.length > 0) {
      finalId = Math.max(...arr.map(item => item.id)) + 1;
    }
    else if (arr.length === 0) {
      finalId = 1;
    }
    return finalId
  },

  add(name, secondName, age, emp, id, desc) {
    this.mainArray.push({ name: name, secondName: secondName, age: age, emp: emp, id: id, desc: desc });
  },
  deleteAllItems(arr) {
    let i = -(this.mainArray.length);
    while (i < arr.length) {
      arr.pop();
      i++;
    }
  },
  searchAdvisor(dataList, query) {
    const searchTerms = query.trim().toLowerCase().split(' ').filter(term => term !== '');
    if (searchTerms.length === 0) {
      return [];
    }
    const results = dataList.filter(item => {
      // 3. Создание строки со всеми значениями для поиска (в нижнем регистре)
      //    ID преобразуется в строку для поиска
      const searchableContent = `${item.id} ${item.name} ${item.secondName} ${item.emp}`.toLowerCase();

      // 4. Проверка, содержит ли элемент ВСЕ термины из запроса
      //    Используем метод every(), который вернет true, только если все элементы массива удовлетворяют условию
      return searchTerms.every(term => searchableContent.includes(term));
    });

    return results;
  },
  updateSelection(suggestionsNodeList, index) {
    // Преобразуем NodeList в массив для удобства (хотя и NodeList подходит для forEach)
    const suggestions = Array.from(suggestionsNodeList);
    suggestions.forEach((suggestion, i) => {
      if (i === index) {
        suggestion.classList.add('autocomplete-selected');
      } else {
        suggestion.classList.remove('autocomplete-selected');
      }
    });
  },
}
